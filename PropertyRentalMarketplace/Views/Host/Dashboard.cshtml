
@{
    ViewData["Title"] = "Dashboard";
    Layout = "_layout";
}

<div class="container">
    <ul class="nav nav-tabs" id="propertiesTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-tab="active" href="#">Active Listings</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-tab="booked" href="#">Booked Properties</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-tab="expired" href="#">Expired Listings</a>
        </li>
    </ul>

    <div class="tab-content py-3" id="tabContent">
        <!-- Content loaded dynamically via AJAX -->
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Load default tab (Active Listings)
            loadTab('active');

            // Tab click event
            $('[data-tab]').click(function(e) {
                e.preventDefault();
                const tab = $(this).data('tab');
                loadTab(tab);
            });
        });

        function loadTab(tabName) {
            $.ajax({
                url: '@Url.Action("LoadTab", "Host")',
                type: 'GET',
                data: { tab: tabName },
                success: function(response) {
                    $('#tabContent').html(response);
                    // Update active tab UI
                    $('[data-tab]').removeClass('active');
                    $(`[data-tab="${tabName}"]`).addClass('active');
                }
            });
        }
    </script>
}