@model PropertyViewModel

@{
    var carouselId = "carousel_" + Model.Id;
    var images = Model.Images.ToList();
}

<div class="col-lg-3 mb-4">
    <div id="@carouselId" class="carousel carousel-dark slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            @for (int i = 0; i < images.Count; i++)
            {
                <button type="button" data-bs-target="#@carouselId" data-bs-slide-to="@i"
                        class="@(i == 0 ? "active" : "")" aria-current="@(i == 0 ? "true" : "false")" aria-label="Slide @(i + 1)">
                </button>
            }
        </div>
        <div class="carousel-inner">
            @for (int i = 0; i < images.Count; i++)
            {
                var img = images[i];
                var imagePath = img.Path.StartsWith("http") ? img.Path : Url.Content("~/images/" + img.Path);

                <div class="carousel-item @(i == 0 ? "active" : "")" data-bs-interval="5000">
                    <img src="@imagePath" class="d-block w-100" style="max-height: 200px;" />
                </div>
            }
        </div>
    </div>

    <p>@Model.Name</p>
    <p class="me-1">@Model.Address</p>
</div>
